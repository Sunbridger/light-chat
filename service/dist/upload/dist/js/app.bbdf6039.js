(function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)o=s[d],r[o]&&f.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="dist/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0889":function(e,t,n){"use strict";var a=n("2af3"),r=n.n(a);r.a},1:function(e,t){},2779:function(e,t,n){"use strict";var a=n("e7fc"),r=n.n(a);r.a},"2af3":function(e,t,n){},"355d2":function(e,t,n){},"3bb5":function(e,t,n){"use strict";var a=n("355d2"),r=n.n(a);r.a},"41a6":function(e,t,n){},"5cb8":function(e,t,n){},"66c0":function(e,t,n){"use strict";var a=n("c0c8"),r=n.n(a);r.a},a622:function(e,t,n){},b2c2:function(e,t,n){"use strict";var a=n("a622"),r=n.n(a);r.a},c0c8:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),s=(n("7f7f"),n("bc3a")),c=n.n(s),u=n("8055"),l=n.n(u),d=l()("wss://2261295nz5.51mypc.cn"),f="https://2261295nz5.51mypc.cn",m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c.a.post(f+e,t)},p=function(e,t,n){d.emit(e,t,n)},g=function(e,t){d.on(e,t)},h=n("2f62");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){Object(o["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w={data:function(){return{audioCtx:new AudioContext}},created:function(){var e=this,t=window.localStorage.uid;t&&g("receive-private-chat",function(n){if(e.audioTip(),"chat"!==e.$route.name){var a=t+"-"+n.uid,r=e.getStroage(a)||0;e.$message({message:"".concat(n.name,"发来一条新消息"),type:"success"}),e.saveStroage(Object(o["a"])({},a,++r))}else e.getShouldShowMsg({uid1:t,uid2:n.uid}),window.scrollTo({top:window.screen.height+9999,behavior:"smooth"})})},computed:{},methods:b({},Object(h["b"])(["getShouldShowMsg"]),{audioTip:function(){var e=this.audioCtx,t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type="sine",t.frequency.value=600,n.gain.setValueAtTime(0,e.currentTime),n.gain.linearRampToValueAtTime(2,e.currentTime+.01),t.start(e.currentTime),n.gain.exponentialRampToValueAtTime(.001,e.currentTime+1),t.stop(e.currentTime+1)}})},y=w,O=n("2877"),j=Object(O["a"])(y,r,i,!1,null,null,null),S=j.exports,_=n("8c4f"),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pg-login"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"60px"}},[n("el-form-item",{attrs:{label:"账号"}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"success"},on:{click:e.login}},[e._v("登陆")]),n("el-button",{attrs:{type:"primary"}},[n("router-link",{attrs:{to:{name:"register"}}},[e._v("注册")])],1)],1)],1)],1)},$=[],k="https://2261295nz5.51mypc.cn/",P=k,C={name:"login",data:function(){return{form:{name:"",password:""}}},methods:{login:function(){var e=this;this.form.name.trim()&&this.form.password.trim()?m("/login",this.form).then(function(t){var n=t.data;if(n.status){var a=n.uid,r=n.avatar,i=n.name;e.saveStroage({uid:a,avatar:r,name:i}),e.$router.push({name:"home"})}else e.$message({message:n.msg,type:"error",duration:1500})}):this.$message({message:"请填写账号或密码",type:"warning",duration:1500})}}},T=C,E=(n("66c0"),Object(O["a"])(T,x,$,!1,null,null,null)),A=E.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pg-form"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"60px",rules:e.rules}},[n("el-form-item",{attrs:{label:"账号",prop:"name"}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("el-form-item",{attrs:{label:"头像"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.serviceImg,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.urlImg?n("img",{staticClass:"avatar",attrs:{src:e.urlImg}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary",plain:""},on:{click:function(t){return e.onRegister("form")}}},[e._v("提交")])],1)],1)],1)},M=[],N=P+"addimg",I={name:"register",data:function(){return{form:{name:"",password:"",avatar:""},rules:{name:[{required:!0,message:"请输入账号名称",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},urlImg:"",fullscreenLoading:!1,serviceImg:N}},methods:{onRegister:function(e){var t=this;this.$refs[e].validate(function(e){e?t.registerFn():t.$message({message:"请按要求填写信息",type:"warning",duration:1500})})},registerFn:function(){var e=this;m("/register",this.form).then(function(t){var n=t.data;e.fullscreenLoading=!1,n.msg?(e.$message({message:"注册成功",type:"success",duration:450}),e.$router.push({name:"login"})):e.$message({message:"用户名已存在",type:"error",duration:1500})})},handleAvatarSuccess:function(e,t){this.form.avatar=this.service+e.url,this.urlImg=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",n=e.size/1024/1024<2;return t||this.$message.error("只支持jpeg|png格式图片"),n||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&n}}},R=I,F=(n("ddb4"),Object(O["a"])(R,D,M,!1,null,null,null)),L=F.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"fix-top"},[n("i",{staticClass:"el-icon-arrow-left",on:{click:e.goBack}}),e._v("\n        "+e._s(e.friend.name)+"\n    ")]),n("div",{staticClass:"content-top"},e._l(e.shouldShowMsg,function(t){return n("div",{key:t.id,staticClass:"row-msg"},[n("p",{staticClass:"top-msg",class:{fr:e.byme(t.fromuid),fl:!e.byme(t.fromuid)}},[t.loading&&e.byme(t.fromuid)?n("i",{staticClass:"el-icon-loading"}):e._e(),e._v("\n                "+e._s(t.msg)+"\n                "),n("el-avatar",{class:{"el-avatar-fl":!e.byme(t.fromuid),"el-avatar-fr":e.byme(t.fromuid)},attrs:{src:e.byme(t.fromuid)?e.myAvatar:e.friend.avatar}})],1)])}),0),n("div",{staticClass:"box-chat"},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:4}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),n("el-button",{attrs:{size:"small",type:"success",round:""},on:{click:e.submit}},[e._v("发送")])],1)])},z=[];function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach(function(t){Object(o["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var V={name:"chat",data:function(){return{content:"",friend:this.$route.params,myAvatar:this.getStroage("avatar"),myName:this.getStroage("name"),myUid:this.getStroage("uid")}},computed:{shouldShowMsg:function(){return this.$store.state.shouldShowMsg}},created:function(){this.getmsgoto(),this.clearNum()},methods:q({},Object(h["b"])(["getShouldShowMsg"]),{},Object(h["c"])(["changeShouldShowMsg"]),{clearNum:function(){var e=this.myUid+"-"+this.friend.uid;window.localStorage.removeItem(e)},getmsgoto:function(){this.getShouldShowMsg({uid1:this.myUid,uid2:this.friend.uid})},byme:function(e){return e==this.myUid},submit:function(){var e=this;if(this.content){var t=this.content;this.content="";var n={uid:this.myUid,msg:t,name:this.myName};this.changeShouldShowMsg({fromuid:this.myUid,avatar:this.avatar,msg:t,loading:!0}),this.autoBottom(),m("/savemsg",{from:this.myUid,to:this.friend.uid,msg:t}).then(function(t){var a=t.data;a&&(e.getmsgoto(),p("send-private-chat",n,e.friend.uid))})}},autoBottom:function(){window.scrollTo({top:window.screen.height+9999,behavior:"smooth"})},goBack:function(){this.$router.push({name:"home"})}})},J=V,W=(n("3bb5"),Object(O["a"])(J,U,z,!1,null,null,null)),G=W.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(220, 220, 220, 0.8)"}},[n("div",{staticClass:"nav-top"},[n("p",{staticClass:"nav-p-t",on:{click:e.exit}},[e._v("\n            欢迎您"),n("span",[e._v(e._s(e.title))])]),n("p",{staticClass:"nav-p",on:{click:e.writeArtic}},[n("i",{staticClass:"el-icon-circle-plus-outline"})])]),"friends"===e.tabName?n("div",{staticClass:"content-box"},[n("friends")],1):e._e(),"dynamic"===e.tabName?n("div",{staticClass:"content-box"},[n("articles")],1):e._e(),n("div",{staticClass:"nav-bottom"},e._l(e.item,function(t,a){return n("p",{key:t.value,staticClass:"nav-p",class:{active:t.active},on:{click:function(n){return e.tabSelect(a,t.tabName)}}},[n("i",{class:t.icon}),e._v(e._s(t.value)+"\n        ")])}),0),n("span",{staticClass:"upbox",on:{click:e.up}},[n("i",{staticClass:"el-icon-upload2 "})])])},K=[],Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pg-article"},[e.nodata?n("p",{staticClass:"nodata"},[e._v("还没有小伙伴发动态呢！")]):n("div",e._l(e.articles,function(t){return n("div",{key:t.aid,staticClass:"article-box"},[n("div",[n("div",{staticClass:"article-box-top"},[n("el-avatar",{attrs:{shape:"square",size:35,src:t.avatar}}),n("p",[e._v(e._s(t.name))])],1),n("div",{staticClass:"article-box-mid"},[n("pre",[e._v(e._s(t.article))])]),n("div",{staticClass:"article-box-bottom"},[n("span",[e._v(e._s(e._f("format")(t.time)))]),t.onlyMe?n("span",{staticClass:"el-icon-s-goods"},[e._v("仅自己可见")]):e._e(),t.uid==e.uid?n("span",{staticClass:"del",on:{click:function(n){return e.delArticle(t.aid)}}},[e._v("删除")]):e._e()])])])}),0)])},X=[];function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach(function(t){Object(o["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee={data:function(){return{articles:[],nodata:!1,uid:window.localStorage.uid}},created:function(){this.init()},methods:Z({},Object(h["c"])(["changeLoading"]),{init:function(){this.changeLoading(!0),this.getArticle()},getArticle:function(){var e=this;m("/getArticle").then(function(t){var n,a,r,i=t.data;e.changeLoading(),n=i.filter(function(e){return 1==e.ispublic}),a=i.filter(function(t){return t.uid==e.uid&&!t.ispublic}),a.forEach(function(e){return e.onlyMe=!0}),r=a.concat(n),r.length?e.articles=r:e.nodata=!0})},goBack:function(){this.$router.push({name:"home"})},delArticle:function(e){var t=this;this.$alert("是否删除该动态","提示",{confirmButtonText:"确定",callback:function(n){"confirm"==n&&m("/delArticle",{aid:e}).then(function(e){e?t.$message({message:"删除成功",type:"success"}):t.$message.error("失败请重试！"),t.init()})}})}}),filters:{format:function(e){var t,n=Date.parse(e),a=6e4,r=60*a,i=24*r,o=30*i,s=(new Date).getTime(),c=s-n;if(!(c<0)){var u=c/o,l=c/(7*i),d=c/i,f=c/r,m=c/a;return t=u>=1?u<=12?parseInt(u)+"月前":parseInt(u/12)+"年前":l>=1?parseInt(l)+"周前":d>=1?parseInt(d)+"天前":f>=1?parseInt(f)+"小时前":m>=1?parseInt(m)+"分钟前":"刚刚",t}}}},te=ee,ne=(n("2779"),Object(O["a"])(te,Q,X,!1,null,null,null)),ae=ne.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.friends,function(t){return n("div",{key:t.uid,staticClass:"flex",on:{click:function(n){return e.getChat(t)}}},[n("el-badge",{staticClass:"item",attrs:{value:e.getNum(t.uid),max:10}},[n("el-avatar",{attrs:{shape:"square",size:50,src:t.avatar}})],1),n("p",{staticClass:"flex1"},[e._v("\n            "+e._s(t.name))]),e.onlineFn(t.uid)?n("p",{staticClass:"font-grenn"},[e._v("在线")]):n("p",{staticClass:"font-red"},[e._v("离线")])],1)}),0)},ie=[];n("6762"),n("2fdb");function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach(function(t){Object(o["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ce={data:function(){return{onlineFriends:[],uid:window.localStorage.uid,myavatar:window.localStorage.avatar,loading:!0}},computed:{friends:function(){return this.$store.state.friends}},created:function(){this.changeLoading(!0),this.getFriends({uid:this.uid}),this.getWhoOnline()},methods:se({},Object(h["b"])(["getFriends"]),{},Object(h["c"])(["changeLoading"]),{getNum:function(e){var t=this.uid+"-"+e,n=this.getStroage(t);return n},getWhoOnline:function(){var e=this;m("/whoOnline",{uid:this.uid}).then(function(t){var n=t.data;e.changeLoading(),e.onlineFriends=n})},getChat:function(e){this.$router.push({name:"chat",params:e})},onlineFn:function(e){return this.onlineFriends.includes(e)}})},ue=ce,le=(n("b2c2"),Object(O["a"])(ue,re,ie,!1,null,null,null)),de=le.exports,fe={name:"home",data:function(){return{item:[{value:"我的好友",active:!0,icon:"el-icon-user-solid",tabName:"friends"},{value:"好友动态",active:!1,icon:"el-icon-s-help",tabName:"dynamic"}],title:window.localStorage.name,uid:window.localStorage.uid,tabName:"friends"}},computed:{loading:function(){return this.$store.state.loading}},created:function(){p("online",this.uid)},methods:{exit:function(){var e=this;this.$alert("是否退出登陆","提示",{confirmButtonText:"确定",callback:function(t){"confirm"==t&&(["avatar","name","uid"].forEach(function(e){window.localStorage.removeItem(e)}),p("offline",e.uid),e.$router.push({name:"login"}))}})},writeArtic:function(){this.$router.push({name:"write"})},tabSelect:function(e,t){this.item.forEach(function(t,n){t.active=n===e}),this.tabName=t},up:function(){window.scrollTo({top:0,behavior:"smooth"})}},components:{Articles:ae,Friends:de}},me=fe,pe=(n("0889"),Object(O["a"])(me,H,K,!1,null,null,null)),ge=pe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pg-write"},[n("div",{staticClass:"fix-top"},[n("i",{staticClass:"el-icon-arrow-left",on:{click:e.goBack}},[e._v("发表文字")])]),n("div",{staticClass:"text-box"},[n("el-input",{attrs:{type:"textarea",placeholder:"这一刻的想法...",autosize:{minRows:4,maxRows:12}},model:{value:e.params.article,callback:function(t){e.$set(e.params,"article",t)},expression:"params.article"}})],1),n("div",{staticClass:"bottom-box"},[n("el-radio",{attrs:{label:0},model:{value:e.params.ispublic,callback:function(t){e.$set(e.params,"ispublic",t)},expression:"params.ispublic"}},[e._v("仅自己可见")]),n("el-radio",{attrs:{label:1},model:{value:e.params.ispublic,callback:function(t){e.$set(e.params,"ispublic",t)},expression:"params.ispublic"}},[e._v("公开")]),n("el-button",{attrs:{size:"medium",type:"primary",disabled:e.loading,loading:e.loading},on:{click:e.submit}},[e._v("发送")])],1)])},ve=[];n("a481");function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(n,!0).forEach(function(t){Object(o["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ye={name:"write",data:function(){return{params:{article:"",ispublic:1,user:{uid:window.localStorage.uid,name:window.localStorage.name,avatar:window.localStorage.avatar}},loading:!1}},created:function(){},methods:{isEmpty:function(e){var t=!1;for(var n in e)if(!e[n]){t=!0;break}return t},tipToast:function(e,t){this.$message({message:t,type:e})},submit:function(){var e=this,t=this.isEmpty(this.params.user);if(t)this.$message.error("当前账号异常，请重新登陆"),setTimeout(function(){e.$router.push({name:"login"})},500);else{if(!this.params.article.trim())return void this.tipToast("warning","内容不能为空哦");this.loading=!0,this.params.article=this.params.article.replace(/(^\s*)/g,""),m("/sendArticle",we({},this.params)).then(function(t){var n=t.data;e.loading=!1,n&&e.$router.push({name:"home"})})}},goBack:function(){this.$router.push({name:"home"})}}},Oe=ye,je=(n("f0cd"),Object(O["a"])(Oe,he,ve,!1,null,null,null)),Se=je.exports;a["default"].use(_["a"]);var _e=new _["a"]({mode:"hash",routes:[{path:"/",name:"index",redirect:{name:"login"}},{path:"/login",name:"login",component:A},{path:"/register",name:"register",component:L},{path:"/home",name:"home",component:ge},{path:"/chat",name:"chat",component:G},{path:"/write",name:"write",component:Se}]}),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){window.scrollTo({top:e,behavior:"smooth"})},500)};_e.beforeEach(function(e,t,n){window.localStorage.uid?"chat"==e.name?e.params.uid?(n(),xe(window.screen.height+9999)):(n({name:"home"}),xe()):n():"login"==e.name||"register"==e.name?n():n({name:"login"})});var $e=_e,ke=(n("96cf"),n("3b8d"));a["default"].use(h["a"]);var Pe=[],Ce=[],Te=new h["a"].Store({state:{friends:Ce,shouldShowMsg:Pe,loading:!0},mutations:{changeFriends:function(e,t){e.friends=Object.assign([],t)},changeShouldShowMsg:function(e,t){Array.isArray(t)?e.shouldShowMsg=Object.assign([],t):e.shouldShowMsg.push(t)},changeLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.loading=t}},actions:{getFriends:function(){var e=Object(ke["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:m("/getuser",{uid:n.uid}).then(function(e){t.commit("changeFriends",e.data)});case 1:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),getShouldShowMsg:function(){var e=Object(ke["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:m("/getmsgoto",{uid1:n.uid1,uid2:n.uid2}).then(function(e){t.commit("changeShouldShowMsg",e.data)});case 1:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}}),Ee=(n("be4f"),n("450d"),n("896a")),Ae=n.n(Ee),De=(n("9e1f"),n("6ed5")),Me=n.n(De),Ne=(n("0fb7"),n("f529")),Ie=n.n(Ne),Re=(n("e960"),n("b35b")),Fe=n.n(Re),Le=(n("e2f3"),n("06f9")),Ue=n.n(Le),ze=(n("f225"),n("89a9")),Be=n.n(ze),qe=(n("b5d8"),n("f494")),Ve=n.n(qe),Je=(n("fe07"),n("6ac5")),We=n.n(Je),Ge=(n("eca7"),n("3787")),He=n.n(Ge),Ke=(n("425f"),n("4105")),Qe=n.n(Ke),Xe=(n("186a"),n("301f")),Ye=n.n(Xe),Ze=(n("96dc"),n("9cea")),et=n.n(Ze),tt=(n("920a"),n("4f0c")),nt=n.n(tt),at=(n("10cb"),n("f3ad")),rt=n.n(at),it=(n("1951"),n("eedf")),ot=n.n(it);a["default"].use(ot.a),a["default"].use(rt.a),a["default"].use(nt.a),a["default"].use(et.a),a["default"].use(Ye.a),a["default"].use(Qe.a),a["default"].use(He.a),a["default"].use(We.a),a["default"].use(Ve.a),a["default"].use(Be.a),a["default"].use(Ue.a),a["default"].use(Fe.a),a["default"].prototype.$message=Ie.a,a["default"].prototype.$alert=Me.a.alert,a["default"].prototype.$loading=Ae.a.service,a["default"].use(Ae.a.directive),a["default"].config.productionTip=!1,a["default"].prototype.service=P,a["default"].prototype.saveStroage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)window.localStorage[t]=e[t]},a["default"].prototype.getStroage=function(e){return window.localStorage[e]},new a["default"]({router:$e,store:Te,render:function(e){return e(S)}}).$mount("#app")},ddb4:function(e,t,n){"use strict";var a=n("41a6"),r=n.n(a);r.a},e7fc:function(e,t,n){},f0cd:function(e,t,n){"use strict";var a=n("5cb8"),r=n.n(a);r.a}});
//# sourceMappingURL=app.bbdf6039.js.map